
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://seneca-bsa.github.io/lab-manual/SEP600/lab2/">
      
      
        <link rel="prev" href="../lab1/">
      
      
        <link rel="next" href="../lab3/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Lab 2: Comparator and Digital I/O - Lab Manuals</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab-2-comparator-and-digital-io" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Lab Manuals" class="md-header__button md-logo" aria-label="Lab Manuals" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lab Manuals
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 2: Comparator and Digital I/O
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Lab Manuals" class="md-nav__button md-logo" aria-label="Lab Manuals" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Lab Manuals
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab Manuals
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AIG240
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    AIG240
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AIG240/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AIG240 Lab Manual
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AIG240/lab1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 1: Introduction to ROS and TurtleSim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AIG240/lab2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 2 : ROS Nodes, Topics, Services, Parameters, Actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AIG240/lab3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 3: ROS Workspace, Package, Publisher, and Subscriber
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AIG240/lab4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 4: Robot Model and Gazebo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AIG240/lab5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 5: JetAuto Robot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AIG240/project1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project 1 - Setting up ROS1 and TurtleSim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AIG240/project2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project 2 - Moving JetAuto in Gazebo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../AIG240/project3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project 3 - Moving JetAuto in Real World
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    SEP600
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    SEP600
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SEP600 Lab Manual
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-supplies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab Supplies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 1: FreeRTOS and MCUXpresso
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Lab 2: Comparator and Digital I/O
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 2: Comparator and Digital I/O
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Introduction
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#learning-objectives" class="md-nav__link">
    <span class="md-ellipsis">
      
        Learning Objectives
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Comparator
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#materials" class="md-nav__link">
    <span class="md-ellipsis">
      
        Materials
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preparation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Procedures
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Procedures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#part-1-comparator-and-digital-input" class="md-nav__link">
    <span class="md-ellipsis">
      
        Part 1: Comparator and Digital Input
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-2-pull-up-and-pull-down" class="md-nav__link">
    <span class="md-ellipsis">
      
        Part 2: Pull-Up and Pull-Down
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-3-pwm-output-genai-assisted-development-challenge" class="md-nav__link">
    <span class="md-ellipsis">
      
        Part 3: PWM Output: GenAI-assisted Development Challenge
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        References
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 3: PWM and DAC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 4: ADC and RTOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 5 : Serial UART and I2C Communication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 6 : LCD and Interrupt
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    SES250
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    SES250
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SES250 Lab Manual
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/instruction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab Instructions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/lab-project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab Project : RC Lowpass Filters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/lab1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 1: Electrostatics and Triboelectric Series
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/lab10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 10: RLC Circuit Resonance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/lab2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 2 : Digital Multimeter, Power Supply, and Ohm's Law
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/lab3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 3: Series and Parallel Resistive Circuit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/lab4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 4 : Kirchhoff's Laws
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/lab5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 5 : Thévenin Circuit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/lab6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 6 : Digital Storage Oscilloscope (DSO)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/lab7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 7 : Capacitor and RC Circuit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/lab8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 8 : RL Circuit and Filters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/lab9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab 9 : RC and RL Circuit in AC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SES250/supplies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab Supplies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Common
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Common
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../common/lab-safety/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab Safety
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Introduction
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#learning-objectives" class="md-nav__link">
    <span class="md-ellipsis">
      
        Learning Objectives
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Comparator
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#materials" class="md-nav__link">
    <span class="md-ellipsis">
      
        Materials
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preparation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Procedures
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Procedures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#part-1-comparator-and-digital-input" class="md-nav__link">
    <span class="md-ellipsis">
      
        Part 1: Comparator and Digital Input
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-2-pull-up-and-pull-down" class="md-nav__link">
    <span class="md-ellipsis">
      
        Part 2: Pull-Up and Pull-Down
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-3-pwm-output-genai-assisted-development-challenge" class="md-nav__link">
    <span class="md-ellipsis">
      
        Part 3: PWM Output: GenAI-assisted Development Challenge
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        References
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                

  



  


  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../.." class="md-path__link">
        
  <span class="md-ellipsis">
    Lab Manuals
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../" class="md-path__link">
          
  <span class="md-ellipsis">
    SEP600
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  
  




<h1 id="lab-2-comparator-and-digital-io">Lab 2: Comparator and Digital I/O</h1>
<h2 id="introduction">Introduction</h2>
<p>This lab expands on your knowledge of embedded I/O by interfacing analog circuits (comparators) with digital logic. You will transition from basic GPIO toggling to reading external digital states and generating Pulse Width Modulation (PWM) signals.</p>
<h3 id="learning-objectives">Learning Objectives</h3>
<ol>
<li>Construct and analyze Op-Amp comparator circuits and Pull-Up/Pull-Down resistor configurations.</li>
<li>Configure GPIO for inputs and outputs.</li>
<li>Implement Pulse Width Modulation (PWM) using hardware timers (FlexTimer Module - FTM).</li>
</ol>
<p>Documentation for the Cortex-M4 instruction set, board user's guide, and the microcontroller reference manual can be found here:</p>
<ul>
<li><a href="https://www.nxp.com/webapp/Download?colCode=FRDMK64FUG">FRDM-K64F Freedom Module User’s Guide</a> (<a href="../FRDMK64FUG.pdf">PDF</a>)</li>
<li><a href="https://www.nxp.com/webapp/Download?colCode=K64P144M120SF5RM">Kinetis K64 Reference Manual</a> (<a href="../K64P144M120SF5RM.pdf">PDF</a>)</li>
<li><a href="https://os.mbed.com/platforms/FRDM-K64F/">FRDM-K64F Mbed Reference</a></li>
<li><a href="https://os.mbed.com/teams/Freescale/wiki/frdm-k64f-pinnames">FRDM-K64F Mbed Pin Names</a></li>
<li><a href="https://www.nxp.com/webapp/Download?colCode=FRDMK66FUG">FRDM-K66F Freedom Module User’s Guide</a> (<a href="../FRDMK66FUG.pdf">PDF</a>)</li>
<li><a href="https://www.nxp.com/webapp/Download?colCode=K66P144M180SF5RMV2">Kinetis K66 Reference Manual</a> (<a href="../K66P144M180SF5RMV2.pdf">PDF</a>)</li>
<li><a href="https://os.mbed.com/platforms/FRDM-K66F/">FRDM-K66F Mbed Reference</a></li>
<li><a href="https://os.mbed.com/teams/NXP/wiki/FRDM-K66F-Pinnames">FRDM-K66F Mbed Pin Names</a></li>
</ul>
<p>Documentation for the Cortex-M4 instruction set can be found here:</p>
<ul>
<li><a href="https://developer.arm.com/documentation/100166/0001">Arm Cortex-M4 Processor Technical Reference Manual Revision</a> (<a href="../Cortex-M4-Proc-Tech-Ref-Manual.pdf">PDF</a>)<ul>
<li><a href="https://developer.arm.com/documentation/100166/0001/Programmers-Model/Instruction-set-summary/Table-of-processor-instructions">Table of Processor Instructions</a></li>
</ul>
</li>
<li><a href="https://developer.arm.com/documentation/ddi0403/latest/">ARMv7-M Architecture Reference Manual</a> (<a href="../DDI0403E_e_armv7m_arm.pdf">PDF</a>)</li>
</ul>
<h3 id="comparator">Comparator</h3>
<p>An operational amplifier (op-amp) can be used as a comparator, a device that compares two input voltages and outputs a signal based on which input is higher. In this configuration, the op-amp operates in open-loop mode, meaning there is no feedback loop, allowing it to function as a high-gain amplifier. When the non-inverting input voltage exceeds the inverting input voltage, the output swings to one extreme (positive saturation). Conversely, when the inverting input voltage exceeds the non-inverting input, the output swings to the other extreme (negative saturation).</p>
<ul>
<li>when <span class="arithmatex">\(V_{in+} &gt; V_{in-}\)</span>, the output saturates to the positive supply rail (High)</li>
<li>when <span class="arithmatex">\(V_{in-} &gt; V_{in+}\)</span>, the output saturates to the negative supply rail or ground (Low).</li>
</ul>
<p>This sharp transition between high and low states makes op-amp comparators ideal for digital signal processing, threshold detection, and square wave generation. They are widely used in applications such as zero-crossing detectors, overcurrent protection circuits, and pulse-width modulation.</p>
<p><img alt="Figure 2.1 Comparator" src="../lab2-comparator.png" /></p>
<p><em><strong>Figure 2.1</strong> Comparator</em></p>
<h2 id="materials">Materials</h2>
<ul>
<li>Safety glasses (PPE)</li>
<li>FRDM-K64F or FRDM-K66F microcontroller board</li>
<li>Breadboard</li>
<li>Jumper wires</li>
<li>(1x) Op-Amp (LM358, LM324, or similar)</li>
<li>Various 1kΩ-10kΩ resistors</li>
<li>(2x) Buttons or switches</li>
<li>(1x) Potentiometer (Optional)</li>
</ul>
<h2 id="preparation">Preparation</h2>
<ol>
<li>Read through the lab manual for this lab.</li>
<li>Ensure you have all the necessary materials for this lab.</li>
<li>Review how to use an Oscilloscope (DSO).</li>
</ol>
<h2 id="procedures">Procedures</h2>
<h3 id="part-1-comparator-and-digital-input">Part 1: Comparator and Digital Input</h3>
<ol>
<li>
<p>Assemble the circuit shown in Figure 2.2 on your breadboard.</p>
<p><img alt="Figure 2.2 Comparator Circuit to MCU" src="../lab2-part-1.png" /></p>
<p><em><strong>Figure 2.2</strong> Comparator Circuit to MCU</em></p>
<ul>
<li>Use the microcontroller's <strong>3.3V</strong> and <strong>GND</strong> pins to power the Op-Amp. Refer to your Op-Amp's datasheet for pinout. </li>
<li><strong>Calculation:</strong> Select <span class="arithmatex">\(R_1\)</span> and <span class="arithmatex">\(R_2\)</span> such that the reference voltage (<span class="arithmatex">\(V_{ref}\)</span> or Inverting Input (<span class="arithmatex">\(V_{in-}\)</span>)) is approximately <strong>2.0V</strong>. <em>Formula:</em> <span class="arithmatex">\(V_{ref} = V_{cc} \times \frac{R_2}{R_1 + R_2}\)</span>.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Keep in mind that the power rating for a typical through-hole resistor is <strong>0.25W</strong>. Double-check the maximum power rating of the resistor you are using to select the appropriate resistance value. <em>Formula:</em> <span class="arithmatex">\(P = IV\)</span>.</p>
</div>
</li>
<li>
<p>Connect a variable power supply (or a potentiometer output) to the Non-Inverting Input (<span class="arithmatex">\(V_{in+}\)</span>) of the Op-Amp.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It is always a good idea to validate your circuit's output using a multimeter before connecting it to a microcontroller to prevent damage. The Op-Amp output should be between 0-1.0V when it's in the low state and 2.3-3.3V when it's in the high state. How close the output can get to 0V (negative rail) and 3.3V (positive rail) will depend on the model of the Op-Amp.</p>
</div>
</li>
<li>
<p>Connect the Op-Amp output to a GPIO pin on your board (e.g., PTC12, PTA1, etc.). All numbered pins (PTXXX) can be used for GPIO. However, it is good practice not to use a pin that can be used for other purposes (e.g., PWM, UART, I2C, etc.) for simple digital input and output.</p>
<p><img alt="Figure 2.3" src="../lab2-frdm_k64f_reve4_header_pinout.jpg" /></p>
<p><strong><em>Figure 2.3</em></strong>: FRDM-K64F Header Pinout from <a href="https://os.mbed.com/platforms/FRDM-K64F/">FRDM-K64F Mbed Reference</a>.</p>
<p>For FRDM-K66F, refer to the <a href="https://os.mbed.com/platforms/FRDM-K66F/">FRDM-K66F Mbed Reference</a>.</p>
<div class="admonition info">
<p class="admonition-title">Note</p>
<p>Ensure the Op-Amp ground, Power Supply ground, and Microcontroller ground are all connected to a common ground reference voltage.</p>
</div>
</li>
<li>
<p>Start a new C/C++ project in MCUXpresso, but this time, change the <strong>Operating Systems</strong> to "FreeRTOS kernel" in the <strong>Components</strong> list. You can name the project "sep600_lab2".</p>
<p><img alt="Figure 2.4" src="../lab2-rtos-project-component.png" /></p>
<p><strong><em>Figure 2.4</em></strong>: Creating a FreeRTOS project in MCUXpresso.</p>
</li>
<li>
<p>Open <code>sep600_lab2.c</code> or the main project C code file and add the following to it:</p>
<p>FreeRTOS header files:</p>
<pre><code>#include "FreeRTOS.h"
#include "task.h"
#include "queue.h"
#include "timers.h"
</code></pre>
<p>Add the task priorities and prototype for <code>vTaskFunction()</code>:</p>
<pre><code>#define vTaskFunction_PRIORITY (configMAX_PRIORITIES - 1)
static void vTaskFunction(void *pvParameters);
</code></pre>
<p>Replace "Hello World" with "SEP600 Lab 2 Start":</p>
<pre><code>PRINTF("SEP600 Lab 2 Start\r\n");
</code></pre>
<p>Replace the <code>int i</code> variable and the <code>while(1)</code> loop with the following task creation logic:</p>
<pre><code>if (xTaskCreate(vTaskFunction, "vTaskFunction", configMINIMAL_STACK_SIZE + 100, NULL, vTaskFunction_PRIORITY, NULL) != pdPASS)
{
    PRINTF("Task creation failed!.\r\n");
    while (1)
        ;
}
vTaskStartScheduler();
for (;;)
    ;
</code></pre>
<p>Add the <code>vTaskFunction()</code> function to the end of your code:</p>
<pre><code>static void vTaskFunction(void *pvParameters)
{
    for (;;) {
        PRINTF("SEP600 Lab 2 is Cool!\r\n");
        vTaskDelay(pdMS_TO_TICKS(1000));
    }
}
</code></pre>
<p><strong>Build, Flash, Run</strong> and you should see a similar printout in the serial terminal. What you have now will act as the starter code for a FreeRTOS project for all the other labs.</p>
</li>
<li>
<p>Let's program a pin on the microcontroller board to read the comparator input that triggers the Red LED.</p>
<p>Define the GPIO pin used to read the comparator output (Example: PTC6 = Port C, Pin 6):</p>
<pre><code>// replace all the X depending on the pin you used for the comparator
#define COMPARATOR_GPIO     GPIOX // replace X with A, B, C, etc. 
#define COMPARATOR_PORT     PORTX // replace X with A, B, C, etc.
#define COMPARATOR_PIN      XU // replace X with 1, 2, 3, etc.
</code></pre>
<p>Use the Config Tools Wizard or add the following to <code>main()</code> to initialize the LED pins:</p>
<pre><code>BOARD_InitLEDsPins()
</code></pre>
<p>Use the Config Tools Wizard or add the following to <code>main()</code> to initialize the comparator pin:</p>
<pre><code>// replace the X depending on the pin you used for the comparator
CLOCK_EnableClock(kCLOCK_PortX); // replace X with A, B, C, etc.

// Comparator
gpio_pin_config_t comparator_config = {
    kGPIO_DigitalInput, 
    0,
};
GPIO_PinInit(COMPARATOR_GPIO, COMPARATOR_PIN, &amp;comparator_config);

port_pin_config_t comparator_pin_config = {kPORT_PullDisable,
    kPORT_FastSlewRate,
    kPORT_PassiveFilterDisable,
    kPORT_OpenDrainDisable,
    kPORT_LowDriveStrength,
    kPORT_MuxAsGpio,
    kPORT_UnlockRegister};
PORT_SetPinConfig(COMPARATOR_PORT, COMPARATOR_PIN, &amp;comparator_pin_config);
</code></pre>
<p>Read the comparator input and trigger the Red LED. Replace the <code>for (;;)</code> loop in <code>vTaskFunction()</code> with:</p>
<pre><code>for (;;) {
    if (GPIO_PinRead(COMPARATOR_GPIO, COMPARATOR_PIN) == 1) {
        GPIO_PortClear(BOARD_LED_RED_GPIO, 1U &lt;&lt; BOARD_LED_RED_PIN); // Turn Red LED ON
    } else {
        GPIO_PortSet(BOARD_LED_RED_GPIO, 1U &lt;&lt; BOARD_LED_RED_PIN); // Turn Red LED OFF
    }
    vTaskDelay(pdMS_TO_TICKS(50)); // Small delay to prevent CPU hogging
}
</code></pre>
</li>
<li>
<p><strong>Build, Flash, Run</strong>, then set the power supply output to 0V and turn on the power supply. Did the red LED turn ON or OFF?</p>
</li>
<li>
<p>Raise the power supply voltage to 3.3V. Did the red LED turn ON or OFF now?</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Do not raise the power supply voltage higher than 5.0V</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Ensure you fully understand how the power supply voltage is affecting the comparator's output and how the signal is being read by the microcontroller as a digital input.</p>
</div>
<h3 id="part-2-pull-up-and-pull-down">Part 2: Pull-Up and Pull-Down</h3>
</li>
<li>
<p>Keep the comparator circuit. Assemble a Pull-Up switch circuit (Circuit A) using a 1kΩ (or larger) resistor and a button (or use jumper wires as a switch if you don't have a button).</p>
<p><img alt="Figure 2.4" src="../lab2-pull-up-down.png" /></p>
<p><strong><em>Figure 2.4</em></strong>: (A) Pull-Up Input. (B) Pull-Down Input.</p>
<ul>
<li>Use the microcontroller's <strong>3.3V</strong> and <strong>GND</strong> pins to power the Pull-Up circuit.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It is always a good idea to validate your circuit's output using a multimeter before connecting it to a microcontroller to prevent damage. The middle node of the Pull-Up circuit should be between 0V-3.3V depending on whether the button is pressed.</p>
</div>
</li>
<li>
<p>Connect the middle node of the Pull-Up circuit to another GPIO input pin on the microcontroller.</p>
<ul>
<li><strong>Calculation:</strong> What is the current passing through the resistor when the switch is closed? Is this a safe current for the 0.25W resistor? How can you modify the circuit to reduce its energy consumption?</li>
</ul>
</li>
<li>
<p>Modify the code from Part 1 to initialize the new pull-up button using <code>GPIO_PinInit</code> and <code>PORT_SetPinConfig</code> (similar to the comparator pin).</p>
</li>
<li>
<p>Modify the logic within <code>vTaskFunction()</code> so the red LED turns ON only if the comparator input from the power supply is above 2.0V <strong>AND</strong> the pull-up button is pressed.</p>
<p>That is, the comparator input acts as the master switch for the red LED output. When the button is not pressed, the red LED should be OFF.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use the debug tool or serial print statements to troubleshoot your logic as necessary.</p>
</div>
</li>
<li>
<p>Construct a Pull-Down switch circuit (Circuit B) and connect it to a third GPIO pin. Modify your code so the green LED turns ON only if the comparator input from the power supply is above 2.0V <strong>AND</strong> the second button (Pull-Down) is pressed. When the second button is not pressed, the green LED should be OFF. When both buttons are pressed, we should see a yellow light.</p>
<div class="admonition info">
<p class="admonition-title">Note</p>
<p>Ensure you fully understand digital input and output, as well as Pull-Up and Pull-Down circuits. Experiment with the code or circuit as necessary to deepen your understanding.</p>
</div>
<h3 id="part-3-pwm-output-genai-assisted-development-challenge">Part 3: PWM Output: GenAI-assisted Development Challenge</h3>
<p>Generating PWM is more complex than simple GPIO. It requires configuring either the Timer/PWM Module (TPM) or the FlexTimer Module (FTM). While the TPM is easier to use, FTM is more flexible and preferred.</p>
</li>
<li>
<p>Without removing the comparator, Pull-Up, and Pull-Down circuits, connect a PWM-capable pin (those with a purple PWM label in the pinout diagram) to <strong>CH1</strong> of the DSO. Refer to the microcontroller board manual for details on pin assignments. Connect the DSO ground to the <strong>common ground</strong> of your circuit.</p>
</li>
<li>
<p>Find the associated FTM channel for the PWM-capable pin you have chosen from <strong>Section 10.3 Pinout</strong> of the <a href="https://www.nxp.com/webapp/Download?colCode=K64P144M120SF5RM">Kinetis K64 Reference Manual</a> (<a href="../K64P144M120SF5RM.pdf">PDF</a>) or <strong>Section 11.3 Pinout</strong> of the <a href="https://www.nxp.com/webapp/Download?colCode=K66P144M180SF5RMV2">Kinetis K66 Reference Manual</a> (<a href="../K66P144M180SF5RMV2.pdf">PDF</a>).</p>
<div class="admonition info">
<p class="admonition-title">PWM-capable Pin and FTM Channel</p>
<p>Find the PWM pin that you are using under the "Pin Name" column, then look for "FTMx_CHx" from the ALT0-ALT7 column along the same row (e.g., PTA3 is connected to FTM0_CH0 at ALT4, meaning PTA3 can also be used for FTM0_CH0 when set to alternate mode 4).</p>
</div>
</li>
<li>
<p>Ask a GenAI agent of your choice to help you write a code snippet that generates a PWM signal at 1 kHz.</p>
<div class="admonition quote">
<p class="admonition-title">Start with this prompt</p>
<p>Write a C function for the FRDM-K64F running FreeRTOS using the MCUXpresso SDK to initialize FTM to output a PWM signal at 1kHz and set the duty cycle at 50%. Include the clock gating and <code>FTM_SetupPwm</code> function call.</p>
</div>
<p>Continue the conversation by providing the pin you are using, etc. to generate a more functional code.</p>
</li>
<li>
<p>Do not blindly copy-paste, verify the code that is generated.</p>
<ul>
<li>Did the code enable the clock for the proper PORT and the FTM module (<code>CLOCK_EnableClock</code>)? Did you provide GenAI the FTM module and channel number?</li>
<li>Did the code set the <code>PORT_SetPinMux</code> to the correct "ALTx" mode for FTM? Or did it assumed you'll set it manually? (You must check the Reference Manual Signal Multiplexing table to find which ALT mode (the ALTx column number) corresponds to the FTM on your chosen pin).</li>
<li>Check the <code>FTM_SetupPwm</code> parameters. Is the source clock frequency valid? Do you understand the parameters?</li>
</ul>
</li>
<li>
<p>Once verified, create a new function <code>InitPWM()</code> using the GenAI code, then call this from <code>main()</code> before the scheduler starts.</p>
</li>
<li>
<p><strong>Build, Flash, Run</strong> and take a look at the generated PWM square wave on the DSO. Adjust the DOS settings to see CH1 as a stable square wave. You might need to manually adjust the Trigger level, as well as the voltage and time division, if the Auto Scale function is not working. Does the duty cycle and the PWM frequency match the settings from <code>FTM_SetupPwm</code>?</p>
</li>
<li>
<p>Modify your code (using GenAI or manually) to change the PWM Duty Cycle based on the button presses.</p>
<ul>
<li>Button 1: Increase Duty Cycle by 10%.</li>
<li>Button 2: Decrease Duty Cycle by 10%.</li>
</ul>
<p>Use <code>FTM_UpdatePwmDutycycle()</code> to change the duty cycle and <code>FTM_SetSoftwareTrigger()</code> to apply the duty cycle update. Refer to <a href="https://mcuxpresso.nxp.com/api_doc/dev/1533/a00021.html">FTM: FlexTimer Driver</a> for documentation on how to use these functions.</p>
</li>
<li>
<p><strong>Build, Flash, Run</strong> your program see it's effect on the DSO.</p>
<div class="admonition info">
<p class="admonition-title">Note</p>
<p>Ensure you fully understand the concept of PWM.</p>
</div>
</li>
</ol>
<p>Once you've completed all the steps above (and ONLY when you are ready, as you'll only have one opportunity to demo), ask the lab professor or instructor to verify that you've completed the lab. You may be asked to explain some of the concepts you've learned in this lab.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://mcuxpresso.nxp.com/api_doc/dev/1533/a00022.html">GPIO: General Purpose I/O functions</a></li>
<li><a href="https://mcuxpresso.nxp.com/api_doc/dev/1533/a00021.html">FTM: FlexTimer Driver</a></li>
<li>This lab manual was generated with the help of Gemini 3 Pro.</li>
</ul>







  
  




  



                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.path", "navigation.section", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>